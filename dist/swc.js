!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SWC=t():e.SWC=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}e.r(t),e.d(t,{SenangWebsChatbot:()=>i,defaultKnowledgeBase:()=>a,initializeChatbot:()=>l});var i=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.knowledgeBase=t,this.currentNode=null},(t=[{key:"init",value:function(){return this.currentNode=this.knowledgeBase.find((function(e){return"welcome"===e.id}))||this.knowledgeBase[0],{reply:this.currentNode.reply,options:this.currentNode.options}}},{key:"handleInput",value:function(e){var t=e.toLowerCase().split(/\s+/),n={};this.knowledgeBase.forEach((function(e){e.keyword.forEach((function(e){n[e]=t.filter((function(t){return t===e})).length}))}));var o=null,r=0;return this.knowledgeBase.forEach((function(e){var t=e.keyword.reduce((function(e,t){return e+(n[t]||0)}),0);t>r&&(r=t,o=e)})),o?(this.currentNode=o,{reply:o.reply,options:o.options}):{reply:"I'm sorry, I didn't understand that. Can you please rephrase?",options:null}}},{key:"handleOptionSelection",value:function(e){var t=this.knowledgeBase.find((function(t){return t.id===e}));return t?(this.currentNode=t,{reply:t.reply,options:t.options}):{reply:"I'm sorry, I couldn't find the appropriate response. How else can I assist you?",options:null}}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),a=[{id:"welcome",keyword:["hello","hi","hey"],reply:"Welcome! How can I assist you today?",options:[{label:"Get Help",reply_id:"help"},{label:"End Chat",reply_id:"goodbye"}]},{id:"help",keyword:["help","support","assist"],reply:"Sure, I can help! What do you need assistance with?",options:[{label:"Product Information",reply_id:"product"},{label:"Billing",reply_id:"billing"},{label:"Technical Support",reply_id:"tech_support"}]},{id:"product",keyword:["product","information"],reply:"Our product is designed to make your life easier. Would you like to know more about its features or pricing?",options:[{label:"Features",reply_id:"features"},{label:"Pricing",reply_id:"pricing"}]},{id:"billing",keyword:["billing","payment","invoice"],reply:"For billing inquiries, please visit our billing portal or contact our finance department at billing@example.com.",options:[{label:"Back to Help",reply_id:"help"},{label:"End Chat",reply_id:"goodbye"}]},{id:"tech_support",keyword:["technical","support","issue"],reply:"For technical support, please describe your issue in detail and well do our best to assist you."},{id:"features",keyword:["features","functionality"],reply:"Our product offers cutting-edge features including AI-powered analytics, real-time collaboration, and seamless integration with popular tools.",options:[{label:"Back to Product Info",reply_id:"product"},{label:"End Chat",reply_id:"goodbye"}]},{id:"pricing",keyword:["pricing","cost","plans"],reply:"We offer flexible pricing plans starting at $9.99/month. For detailed pricing information, please visit our website or contact our sales team.",options:[{label:"Back to Product Info",reply_id:"product"},{label:"End Chat",reply_id:"goodbye"}]},{id:"goodbye",keyword:["bye","goodbye","end"],reply:"Thank you for chatting with us. Have a great day!",options:[{label:"Restart Chat",reply_id:"welcome"}]}];function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelectorAll("[data-swc]").forEach((function(t){var n=t.getAttribute("data-swc-theme-color")||"#007bff",o=t.getAttribute("data-swc-bot-name")||"Bot",r=t.getAttribute("data-swc-chat-display")||"classic",l=parseInt(t.getAttribute("data-swc-reply-duration"))||0,s=new i(e||a),c=function(e,t,n,o){var r=document.createElement("div");r.className="swc-chat-display ".concat("modern"===o?"swc-modern":"swc-classic");var i=document.createElement("div");i.className="swc-input-container";var a=document.createElement("input");a.type="text",a.className="swc-user-input",a.placeholder="Type your message...";var l=document.createElement("button");l.className="swc-send-button",l.textContent="Send";var s=document.createElement("div");s.className="swc-options-container",i.appendChild(a),i.appendChild(l);var c=document.createElement("div");return c.className="swc-typing-indicator",c.innerHTML="<span></span><span></span><span></span>",e.appendChild(r),e.appendChild(s),e.appendChild(i),e.style.setProperty("--swc-theme-color",t),e.style.setProperty("--swc-bot-name",'"'.concat(n,'"')),{chatDisplay:r,userInput:a,sendButton:l,optionsContainer:s,typingIndicator:c}}(t,n,o,r),d=c.chatDisplay,p=c.userInput,u=c.sendButton,y=c.optionsContainer,f=c.typingIndicator;function m(e,t){v();var n=document.createElement("div");n.className="swc-message swc-bot-message",n.innerHTML="".concat(e),d.appendChild(n),k(d),y.innerHTML="",t&&t.length>0?(y.style.display="flex",t.forEach((function(e){var t=document.createElement("button");t.textContent=e.label,t.onclick=function(){return t=e.reply_id,h(),g(),void setTimeout((function(){var e=s.handleOptionSelection(t);m(e.reply,e.options),w()}),l);var t},y.appendChild(t)}))):y.style.display="none"}function b(){var e=p.value.trim();if(e){var t=document.createElement("div");t.className="swc-message swc-user-message",t.innerHTML="".concat(e),d.appendChild(t),k(d),p.value="",h(),g(),setTimeout((function(){var t=s.handleInput(e);m(t.reply,t.options),w()}),l)}}function h(){p.disabled=!0,u.disabled=!0}function w(){p.disabled=!1,u.disabled=!1}function g(){v(),d.appendChild(f),k(d)}function v(){f.parentNode===d&&d.removeChild(f)}function k(e){var t=e.scrollHeight-e.clientHeight,n=e.scrollTop,o=t-n,r=null;window.requestAnimationFrame((function t(i){r||(r=i);var a,l,s,c=i-r;e.scrollTop=(a=c,l=n,s=o,(a/=150)<1?s/2*a*a*a+l:s/2*((a-=2)*a*a+2)+l),c<300&&window.requestAnimationFrame(t)}))}u.addEventListener("click",b),p.addEventListener("keypress",(function(e){"Enter"===e.key&&b()}));var C=s.init();m(C.reply,C.options)}))}return"undefined"!=typeof window&&(window.initializeChatbot=l),t})()));